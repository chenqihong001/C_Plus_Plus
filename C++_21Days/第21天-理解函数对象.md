# 理解函数对象

>__谓词:__ 返回值为bool的仿函数
> 根据仿函数的参数个数，分为一元谓词，二元谓词等

函数对象即**用作函数的对象**
一元函数 __!=__ 一元谓词

## 常量成员函数
>
> 1. 不可修改成员变量
> 2. 不可调用非const成员函数
> 3. const 对象实例，只能调用const 常量成员函数，而不能调用非const成员函数
> 4. const与非const能构成重载
>
```c++
void Print()const;
void Print();
```

### 使用函数对象封装快速排序

```c++
#include <iostream>
#include <vector>
#include <algorithm>
template <class T>
class QuickSort
{
public:
    int partition(std::vector<T> &arr, int low, int high, T pivot)
    {
        while (low < high)
        {
            while (low < high && arr[low] < pivot)
                low++;
            while (low < high && arr[high] > pivot)
                high--;
            if (low < high)
                std::swap(arr[low], arr[high]);
        }
        return low; // 返回最终基准值的位置
    }
    void quickSort(std::vector<T> &arr, int low, int high)
    {
        if (low < high)
        {
            T pivot = arr[high];                       // 获取基准值
            int pi = partition(arr, low, high, pivot); // 获取基准值的最终位置
            // 递归对基准值左右两侧的子数组进行排序
            quickSort(arr, low, pi - 1);
            quickSort(arr, pi + 1, high);
        }
    }

public:
    void operator()(std::vector<T> &datas)
    {
        quickSort(datas, 0, datas.size() - 1);
    }
};
int main()
{
    std::vector<float> array{1, 8, 5, 6, 2, 4, 76, 5.2};
    QuickSort<float> qs; // 区分仿函数调用和构造函数调用
    qs(array);
    std::for_each(array.begin(), array.end(), [](int i)
                  { std::cout << i << " "; });
}
```
